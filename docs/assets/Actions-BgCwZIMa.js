import{_ as I}from"./HeaderFilter-yoeOmoBJ.js";import{u as $,c as g,o as x,F as T,d as V,b as t,e as i,f as u,w as n,t as c,n as S,g as z,h as _,i as N,j as A,k as D,a as j,r as y,l as L,m as B,p as F}from"./index-Bcsves7H.js";import{C as w}from"./CJKSub-B_2XiD1K.js";import{s as E}from"./SDGs_goal-BU-5yG0n.js";import{T as H}from"./TrainTrack-sFddnAyx.js";const R=[{id:1,title:"剩食問題",group:"一年忠班",startTime:"1746028800",endTime:"1753977600",types:[2],intro:"",progress:10,thumbnail:"thumb2.jpg",description:""},{id:2,title:"剩食問題",group:"一年孝班",startTime:"1746028800",endTime:"1753977600",types:[2],intro:"",progress:40,thumbnail:"thumb2.jpg",description:""},{id:3,title:"節約用水",group:"全校",startTime:"",endTime:"",types:[6],intro:"",progress:80,thumbnail:"thumb2.jpg",description:""},{id:4,title:"社區踏查",group:"",startTime:"",endTime:"",types:[2,3],intro:"",progress:50,thumbnail:"thumb2.jpg",description:""}],U="/Pinghe/assets/lightBulb2-o5XC2Rg-.png",q=["onClick"],M={class:"p-4 md:p-10 flex flex-col justify-center w-full md:flex-1 text-sm md:text-lg"},J={class:"text-xl md:text-2xl mb-2 md:mb-2"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-x-4"},X={class:"mb-2"},G={class:"text-md mb-2"},O={class:"text-md mb-2 md:col-span-2"},Q={class:"flex items-center w-full md:w-70 gap-3 md:col-span-2"},W={class:"relative flex-1 bg-gray-200 rounded-full h-2 overflow-hidden"},Y={class:"w-10 text-sm text-gray-700 text-left"},Z={class:"flex flex-wrap gap-2 mt-2 md:col-span-2"},ee={__name:"ActionCard",props:{filteredInfo:{type:Array,default:()=>[]}},setup(f){$();const v=l=>l<40?"bg-red-500":l<70?"bg-yellow-400":"bg-green-500",d=l=>{};return(l,e)=>(x(),g("div",N(A(l.$attrs)),[(x(!0),g(T,null,V(f.filteredInfo,a=>(x(),g("div",{class:"animate-fade-in-up cursor-pointer w-full md:max-w-7xl md:max-h-95 rounded-xl hover:shadow-focus overflow-hidden flex flex-col md:flex-row hover:scale-105",key:a.id,onClick:p=>d(a.id)},[e[11]||(e[11]=t("div",{class:"w-full md:w-2/5 flex items-end justify-center md:justify-end"},[t("img",{src:U,alt:"Card Image",class:"w-full h-full object-cover object-center rounded-xl"})],-1)),t("div",M,[t("h2",J,[t("span",null,[u(w,{align:"center"},{zh:n(()=>[...e[0]||(e[0]=[t("span",{class:"text-xl md:text-2xl"},"主題",-1)])]),en:n(()=>[...e[1]||(e[1]=[i("Issue",-1)])]),_:1})]),i(" ："+c(a.title),1)]),t("div",K,[t("p",X,[u(w,{align:"center"},{zh:n(()=>[...e[2]||(e[2]=[t("span",{class:"text-lg md:text-xl"},"時間",-1)])]),en:n(()=>[...e[3]||(e[3]=[i("Time",-1)])]),_:1}),i(" ："+c(a.startTime.length?new Date(a.startTime*1e3).toLocaleDateString()+" ~ "+new Date(a.endTime*1e3).toLocaleDateString():"無"),1)]),t("p",G,[u(w,{align:"left"},{zh:n(()=>[...e[4]||(e[4]=[t("span",{class:"text-lg md:text-xl"},"成員",-1)])]),en:n(()=>[...e[5]||(e[5]=[i("Member",-1)])]),_:1}),i(" ："+c(a.group),1)]),t("p",O,[u(w,{align:"left"},{zh:n(()=>[...e[6]||(e[6]=[t("span",{class:"text-lg md:text-xl"},"描述",-1)])]),en:n(()=>[...e[7]||(e[7]=[i("Description",-1)])]),_:1}),i(" ："+c(a.intro),1)]),t("div",Q,[u(w,{align:"left"},{zh:n(()=>[...e[8]||(e[8]=[t("span",{class:"text-lg md:text-xl"},"進度",-1)])]),en:n(()=>[...e[9]||(e[9]=[i("Progress",-1)])]),_:1}),e[10]||(e[10]=i(" ： ",-1)),t("div",W,[t("div",{class:z(["h-2 rounded-full transition-all duration-500",v(a.progress)]),style:S({width:a.progress+"%"})},null,6)]),t("span",Y,c(a.progress)+"% ",1)]),t("div",Z,[(x(!0),g(T,null,V(a.types,p=>(x(),g("span",{key:p,class:"px-3 py-1 text-sm rounded-full bg-blue-100 text-blue-800"},c(_(E)[p].title),1))),128))])])])],8,q))),128))],16))}},te={key:0,class:"text-base md:text-[1.6rem]"},se=["disabled"],le=["disabled"],ae={__name:"PageLabel",props:{totalItems:{type:Number,required:!0},itemsPerPage:{type:Number,default:6},modelValue:{type:Number,required:!0}},emits:["update:modelValue"],setup(f,{emit:v}){const d=f,l=v,e=D(()=>d.totalItems===0?1:Math.ceil(d.totalItems/d.itemsPerPage)),a=()=>{d.modelValue<e.value&&l("update:modelValue",d.modelValue+1)},p=()=>{d.modelValue>1&&l("update:modelValue",d.modelValue-1)};return(k,r)=>e.value>=1?(x(),g("div",te,[t("button",{onClick:p,disabled:f.modelValue===1,class:"px-4 py-2 bg-gray-300 rounded-md disabled:opacity-50"}," 上一頁 ",8,se),t("span",null,"第 "+c(f.modelValue)+" / "+c(e.value)+" 頁",1),t("button",{onClick:a,disabled:f.modelValue===e.value,class:"px-4 py-2 bg-gray-300 rounded-md disabled:opacity-50"}," 下一頁 ",8,le)])):j("",!0)}},re={class:"relative z-5 pt-25 w-full shadow-md bg-header text-rice-500"},ne={class:"container mx-auto flex items-center p-4"},oe={class:"w-1/3"},ie={class:"text"},de={class:"p-10 flex flex-col justify-center items-center gap-8 max-w-7xl md:mx-auto"},ue={key:0,class:"text-center text-gray-500 mt-8"},h=3,fe={__name:"Actions",setup(f){const v=F("handleAppScroll"),d=y(R),l=y({sdgs:[],time:"all",startDate:"",endDate:"",keyword:""}),e=y(1),a=r=>{l.value=r,e.value=1},p=D(()=>{let r=d.value;if(l.value.sdgs.length>0&&(r=r.filter(s=>s.types&&s.types.some(o=>l.value.sdgs.includes(o)))),l.value.time!=="all"){const s=new Date;let o,m;switch(l.value.time){case"day":m=new Date(s),o=new Date(s),o.setDate(s.getDate()-1);break;case"week":m=new Date(s),o=new Date(s),o.setDate(s.getDate()-7);break;case"custom":l.value.startDate&&l.value.endDate&&(o=new Date(l.value.startDate),o.setHours(0,0,0,0),m=new Date(l.value.endDate),m.setHours(23,59,59,999));break}o&&m&&(r=r.filter(b=>{if(!b.startTime||!b.endTime||!String(b.startTime).trim()||!String(b.endTime).trim())return!1;const P=new Date(Number(b.startTime)*1e3),C=new Date(Number(b.endTime)*1e3);return P<=m&&C>=o}))}return l.value.keyword&&(r=r.filter(s=>s.title.toLowerCase().includes(l.value.keyword.toLowerCase()))),r}),k=D(()=>{const r=(e.value-1)*h,s=r+h;return p.value.slice(r,s)});return(r,s)=>{const o=B("router-link");return x(),g("div",{class:"page-background content-scroller",onScroll:s[1]||(s[1]=(...m)=>_(v)&&_(v)(...m))},[t("div",null,[t("header",re,[t("div",ne,[t("div",oe,[u(o,{to:"/",class:"back-home-btn"},{default:n(()=>[t("span",ie,[u(w,{align:"center"},{zh:n(()=>[...s[2]||(s[2]=[i("回首頁",-1)])]),en:n(()=>[...s[3]||(s[3]=[i("Home",-1)])]),_:1})]),s[4]||(s[4]=t("span",{class:"icon"},"←",-1))]),_:1})]),s[5]||(s[5]=L('<div class="w-1/3 text-center"><h1 class="text-2xl md:text-3xl font-bold">行動追蹤</h1></div><div class="w-1/3 flex items-center justify-end pr-4"><div class="w-10 h-10 bg-orange-300 rounded-full flex items-center justify-center text-white cursor-pointer transition delay-150 duration-300 ease-in-out hover:-translate-y-1 hover:scale-110"><i class="fa-solid fa-plus font-bold text-pblue-500"></i></div></div>',2))])]),t("main",de,[u(I,{"onUpdate:filters":a,class:"flex flex-wrap justify-center items-center gap-4"}),u(ee,{filteredInfo:k.value,class:"flex flex-col gap-10 w-full md:px-0"},null,8,["filteredInfo"]),p.value.length===0?(x(),g("div",ue,[...s[6]||(s[6]=[t("p",null,"找不到符合條件的行動。",-1)])])):j("",!0),u(ae,{class:"flex justify-center items-center gap-4 mt-8",totalItems:p.value.length,itemsPerPage:h,modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=m=>e.value=m)},null,8,["totalItems","modelValue"]),u(H)])])],32)}}};export{fe as default};
