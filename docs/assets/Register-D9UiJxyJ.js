import{r,u as B,c as y,a as n,o as u,b as s,d as M,w as N,e as i,v as f,k as w,F as k,l as h,m as D,n as E,t as p,f as T,g as A,h as F,i as z,j as L}from"./index-Rok5zH_O.js";const _={台北市:["松山國小","信義國小","大安國小","中山國小","中正國小","大同國小","萬華國小","文山國小","南港國小","內湖國小","士林國小","北投國小"],彰化縣:["員林國小","南郭國小","和美國小","鹿港國小","溪湖國小","二林國小","田中國小","北斗國小","花壇國小","芬園國小","大村國小","永靖國小","伸港國小","線西國小","大嘉國小","嘉犁國小","忠孝國小","平和國小"],台中市:["台中市忠孝國小","台中市東勢國小","台中市豐原國小","台中市后里國小","台中市石岡國小","台中市新社國小","台中市和平國小","台中市大甲國小","台中市外埔國小","台中市大安國小"],高雄市:["高雄市鹽埕國小","高雄市鼓山國小","高雄市左營國小","高雄市楠梓國小","高雄市三民國小","高雄市新興國小","高雄市前金國小","高雄市苓雅國小","高雄市前鎮國小","高雄市旗津國小"],台南市:["台南市後甲國小","台南市鹽行國小","台南市下營國小","台南市柳營國小","台南市六甲國小","台南市官田國小","台南市大內國小","台南市玉井國小","台南市楠西國小","台南市南化國小"],新北市:["新北市板橋國小","新北市三重國小","新北市中和國小","新北市永和國小","新北市新莊國小","新北市新店國小","新北市樹林國小","新北市鶯歌國小","新北市三峽國小","新北市淡水國小"]},O=()=>Object.keys(_),P=b=>_[b]||[],W={class:"flex items-center justify-center min-h-screen bg-gray-100"},$={class:"w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md"},G={class:"space-y-4"},H={class:"flex flex-row gap-4"},I=["value"],J=["disabled"],K=["value"],Q={class:"mt-6"},X=["disabled"],Y={key:0},Z={key:1},ee={class:"text-sm text-center"},te={__name:"Register",setup(b){const m=r(""),v=r(""),g=r(""),d=r(""),c=r(""),l=r(!1),o=r(""),a=r(!1),V=B(),R=L(),S=O(),q=y(()=>d.value?P(d.value):[]),C=async()=>{if(l.value=!0,o.value="",a.value=!1,!m.value.trim()){o.value="請輸入姓名",a.value=!0,l.value=!1;return}if(!v.value.trim()){o.value="請輸入電子郵件",a.value=!0,l.value=!1;return}if(!g.value.trim()){o.value="請輸入密碼",a.value=!0,l.value=!1;return}if(!d.value){o.value="請選擇地區",a.value=!0,l.value=!1;return}if(!c.value){o.value="請選擇學校",a.value=!0,l.value=!1;return}const{success:x,message:e}=await V.registerWithEmailAndPassword(m.value,v.value,g.value,c.value);l.value=!1,x?(o.value="註冊成功！將為您跳轉到首頁...",setTimeout(()=>{R.push("/")},2e3)):(o.value=`註冊失敗: ${e}`,a.value=!0)},U=y(()=>({"bg-red-100 text-red-700":a.value,"bg-green-100 text-green-700":!a.value}));return(x,e)=>{const j=z("router-link");return u(),n("div",W,[s("div",$,[e[12]||(e[12]=s("h2",{class:"text-2xl font-bold text-center text-gray-900"},"註冊新帳號",-1)),s("form",{onSubmit:N(C,["prevent"])},[s("div",G,[s("div",null,[e[5]||(e[5]=s("label",{for:"username",class:"block text-sm font-medium text-gray-700"},"姓名",-1)),i(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>m.value=t),id:"username",required:"",class:"block w-full px-3 py-2 mt-1 text-gray-900 placeholder-gray-500 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,512),[[f,m.value]])]),s("div",null,[e[6]||(e[6]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"電子郵件",-1)),i(s("input",{type:"email","onUpdate:modelValue":e[1]||(e[1]=t=>v.value=t),id:"email",required:"",class:"block w-full px-3 py-2 mt-1 text-gray-900 placeholder-gray-500 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,512),[[f,v.value]])]),s("div",null,[e[9]||(e[9]=s("label",{for:"school",class:"block text-sm font-medium text-gray-700"},"學校",-1)),s("div",H,[i(s("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>d.value=t),id:"region",required:"",class:"block w-full px-3 py-2 mt-1 text-gray-900 placeholder-gray-500 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[e[7]||(e[7]=s("option",{value:""},"請選擇地區",-1)),(u(!0),n(k,null,h(D(S),t=>(u(),n("option",{key:t,value:t},p(t),9,I))),128))],512),[[w,d.value]]),i(s("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>c.value=t),id:"school",required:"",disabled:!d.value,class:"block w-full px-3 py-2 mt-1 text-gray-900 placeholder-gray-500 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm disabled:bg-gray-100 disabled:cursor-not-allowed"},[e[8]||(e[8]=s("option",{value:""},"請先選擇地區",-1)),(u(!0),n(k,null,h(q.value,t=>(u(),n("option",{key:t,value:t},p(t),9,K))),128))],8,J),[[w,c.value]])])]),s("div",null,[e[10]||(e[10]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"密碼",-1)),i(s("input",{type:"password","onUpdate:modelValue":e[4]||(e[4]=t=>g.value=t),id:"password",required:"",class:"block w-full px-3 py-2 mt-1 text-gray-900 placeholder-gray-500 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,512),[[f,g.value]])])]),s("div",Q,[s("button",{type:"submit",disabled:l.value,class:"flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-gray-400"},[l.value?(u(),n("span",Y,"註冊中...")):(u(),n("span",Z,"註冊"))],8,X)])],32),o.value?(u(),n("div",{key:0,class:E([U.value,"p-4 mt-4 text-sm rounded-md"])},p(o.value),3)):M("",!0),s("div",ee,[T(j,{to:"/login",class:"font-medium text-indigo-600 hover:text-indigo-500"},{default:A(()=>[...e[11]||(e[11]=[F("已經有帳號了？ 登入",-1)])]),_:1})])])])}}};export{te as default};
