import{r as l,u as y,c as w,a as i,o as d,b as s,d as h,w as _,e as c,v as g,n as k,t as V,f as C,g as N,h as j,i as B,j as E}from"./index-DSeoTcbi.js";const M={class:"flex items-center justify-center min-h-screen bg-gray-100"},T={class:"w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md"},q={class:"space-y-4"},A={class:"mt-6"},D=["disabled"],L={key:0},S={key:1},U={class:"text-sm text-center"},R={__name:"Login",setup(z){const r=l(""),n=l(""),o=l(!1),t=l(""),a=l(!1),f=y(),v=E(),p=async()=>{if(o.value=!0,t.value="",a.value=!1,!r.value.trim()){t.value="請輸入電子郵件",a.value=!0,o.value=!1;return}if(!n.value.trim()){t.value="請輸入密碼",a.value=!0,o.value=!1;return}const{success:m,message:e}=await f.loginWithEmailAndPassword(r.value,n.value);o.value=!1,m?(t.value="登入成功！將為您跳轉到首頁...",setTimeout(()=>{v.push("/")},2e3)):(t.value=`登入失敗: ${e}`,a.value=!0)},x=w(()=>({"bg-red-100 text-red-700":a.value,"bg-green-100 text-green-700":!a.value}));return(m,e)=>{const b=B("router-link");return d(),i("div",M,[s("div",T,[e[5]||(e[5]=s("h2",{class:"text-2xl font-bold text-center text-gray-900"},"登入",-1)),s("form",{onSubmit:_(p,["prevent"]),novalidate:""},[s("div",q,[s("div",null,[e[2]||(e[2]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," 電子郵件 ",-1)),c(s("input",{type:"email","onUpdate:modelValue":e[0]||(e[0]=u=>r.value=u),id:"email",required:"",class:"block w-full px-3 py-2 mt-1 text-gray-900 placeholder-gray-500 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,512),[[g,r.value]])]),s("div",null,[e[3]||(e[3]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"密碼",-1)),c(s("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=u=>n.value=u),id:"password",required:"",class:"block w-full px-3 py-2 mt-1 text-gray-900 placeholder-gray-500 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,512),[[g,n.value]])])]),s("div",A,[s("button",{type:"submit",disabled:o.value,class:"flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-gray-400"},[o.value?(d(),i("span",L,"登入中...")):(d(),i("span",S,"登入"))],8,D)])],32),t.value?(d(),i("div",{key:0,class:k([x.value,"p-4 mt-4 text-sm rounded-md"])},V(t.value),3)):h("",!0),s("div",U,[C(b,{to:"/register",class:"font-medium text-indigo-600 hover:text-indigo-500"},{default:N(()=>[...e[4]||(e[4]=[j("還沒有帳號？ 註冊",-1)])]),_:1})])])])}}};export{R as default};
